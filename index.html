<html>
<head>
  <script>
    // Créer un nouveau détecteur de codes-barres avec les formats pris en charge
    const barcodeDetector = new BarcodeDetector({ formats: ["code_39", "codabar", "ean_13"] });
    
    // Vérifier la compatibilité du navigateur
    if (barcodeDetector) {
      console.log("Barcode Detector supporté !");
    } else {
      console.log("Barcode Detector n'est pas supporté par ce navigateur.");
    }

    // Définir une fonction pour détecter les codes-barres dans une image
    function detectBarcodes(image) {
      // Appeler la méthode detect() du détecteur de codes-barres
      barcodeDetector.detect(image)
        .then(barcodes => {
          // Parcourir le tableau des codes-barres détectés
          for (const barcode of barcodes) {
            // Afficher la valeur brute du code-barres dans la console
            console.log(barcode.rawValue);
          }
        })
        .catch(err => {
          // Gérer les erreurs éventuelles
          console.error(err);
        });
    }
  </script>
</head>
<body>
  <!-- Créer un élément image avec une source et un identifiant -->
  <img id="barcode-image" src="barcode.png" alt="Barcode image">
  <!-- Créer un bouton pour déclencher la détection des codes-barres -->
  <button onclick="detectBarcodes(document.getElementById('barcode-image'))">Detect Barcodes</button>
</body>
</html>